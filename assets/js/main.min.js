"use strict";class LazyGrid{constructor(grid=".hp-grid",gridItems=".hp-paint",loadedClass="is-loaded"){this.loadedClass=loadedClass,this.grid=document.querySelector(grid),this.grid&&(this.gridItems=this.grid.querySelectorAll(gridItems),this.gridItems&&this.gridItems.length&&this.setAppearance(this.gridItems))}setAppearance(items){let delay=150;items.forEach(item=>{setTimeout(()=>item.classList.add(this.loadedClass),delay),delay+=100})}}class Share{constructor(){this.postShare=document.querySelector(".post-share"),this.postShare&&(navigator.share?this.setShareAuto():this.setShareManual())}setShareAuto(){const shareBlock=this.postShare.querySelector(".share-auto");if(!shareBlock)return;const shareButton=shareBlock.querySelector("button");shareButton&&(shareBlock.removeAttribute("hidden"),shareButton.addEventListener("click",event=>{event.preventDefault(),this.shareAuto()}))}setShareManual(){const shareBlock=this.postShare.querySelector(".share-manual");if(!shareBlock)return;const shareButtons=shareBlock.querySelectorAll("button");shareButtons.length&&(shareBlock.removeAttribute("hidden"),shareButtons.forEach(button=>{button.addEventListener("click",event=>{event.preventDefault(),this.shareManual(event.target.dataset.name)})}))}shareAuto(){navigator.share({title:"",text:document.title,url:window.location.href})}shareManual(social){let shareUrl="";const pageUrl=encodeURIComponent(window.location.href),pageTitle=encodeURIComponent(document.title);switch(social){case"twitter":shareUrl=`https://twitter.com/intent/tweet?text=${pageTitle} — ${pageUrl}&via=EmmanuelBeziat`,this.sharePopup(shareUrl,"Partager sur Twitter");break;case"facebook":shareUrl=`https://www.facebook.com/sharer/sharer.php?u=${pageUrl}`,this.sharePopup(shareUrl,"Partager sur Facebook");break;case"link":const dummyShare=document.createElement("input");document.body.appendChild(dummyShare),dummyShare.value=window.location.href,dummyShare.select(),document.execCommand("copy"),document.body.removeChild(dummyShare),alert("URL copiée dans le presse papier")}}sharePopup(url,title,width,height){let popupWidth=width||640,popupHeight=height||320,popupPosX=window.screenX+window.innerWidth/2-popupWidth/2,popupPosY=window.screenY+window.innerHeight/2-popupHeight/2,popup;return window.open(url,title,"scrollbars=yes, menubar=0, location=0, status=0, width="+popupWidth+", height="+popupHeight+", top="+popupPosY+", left="+popupPosX).focus(),!0}}document.addEventListener("DOMContentLoaded",()=>{new LazyGrid,new Share});
//# sourceMappingURL=main.min.js.map